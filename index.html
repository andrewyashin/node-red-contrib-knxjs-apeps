<html>
<head>
<script src="jquery-3.4.1.js"></script>
</head>
<body>
	<input type="button" id="temp" value="Отримати температура в приміщенні"/>
	<div id="temperature">
		0
	</div>


	<input type="button" id="lampStatus" value="Отримати статус лампи"/>
	<div id="status">
		
	</div>

	<input type="button" id="on" value="Увімкнути"/>
	<input type="button" id="off" value="Виключити"/>



</body>
<script type="text/javascript">
	$("#temp").click(function(){
  $.ajax({
  	url: "http://127.0.0.1:1880/temp",
  	cache: false,
  	method: "GET",
  	dataType: 'json',
  	success: function (data, textStatus) {
            $('#temperature').html(data.value + ' C');
            console.log(data)
        }})});

  $("#lampStatus").click(function(){
  $.ajax({
  	url: "http://127.0.0.1:1880/status",
  	cache: false,
  	method: "GET",
  	dataType: 'json',
  	success: function (data, textStatus) {
  			if (data.value === "0") {
  				$('#status').html('Виключена');
	  			$("#off").attr("disabled", true);

  			} 

  			if (data.value === "1") {
				$('#status').html('Увімкнена');
	  			$("#on").attr("disabled", true);

  			}
            console.log(data)
        }})});

  $("#on").click(function(){
  $.ajax({
  	url: "http://127.0.0.1:1880/on",
  	cache: false,
  	method: "GET",
  	dataType: 'json',
  	success: function (data, textStatus) {
			$('#status').html('Увімкнена');
  			$("#on").attr("disabled", true);
  			$("#off").attr("disabled", false);
            console.log(data)
        }})});

  $("#off").click(function(){
  $.ajax({
  	url: "http://127.0.0.1:1880/off",
  	cache: false,
  	method: "GET",
  	dataType: 'json',
  	success: function (data, textStatus) {
  			$('#status').html('Виключена');
  			$("#off").attr("disabled", true);
  			$("#on").attr("disabled", false);

            console.log(data)
        }})});


</script>
</html>